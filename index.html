<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Outils d'animation</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.4.0.min.js"
        integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>

</head>

<body>
    <header>
        <div class="navbar navbar-dark bg-primary shadow-sm">
            <div class="container d-flex justify-content-between">
                <span href="#" class="navbar-brand d-flex align-items-center">
                    <strong>Outils pour la formation d'équipes</strong>
                </span>
            </div>
        </div>
    </header>
    <div class="container my-2">
        <div class="card my-2">
            <div class="card-body text-info">
                Cette page propose un utilitaire pour former des équipes à partir d'une liste de participants. <br />
                On cherche à équilibrer les participations de chacun, en gardant des équipes distinctes.
            </div>
        </div>
        <form id="params" novalidate>
            <div class="card">
                <div class="card-body">
                    <h4 class="card-subtitle">Importer les participants</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm mt-1">
                            <!-- <label for="listeCsv">Liste des participants (.txt)</label>
                            <input type="file" class="form-control-file" id="listeCsv" accept=".csv" required> -->

                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="listeCsv" accept=".csv, .txt" required>
                                <label class="custom-file-label" for="listeCsv">Liste des participants </label>
                                <div class="invalid-feedback">
                                    Veuillez importer une liste (un participant par ligne).
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="alert" role="alert" id="infoImport" style="visibility: hidden">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card my-2">
                <div class="card-body">
                    <h4 class="card-subtitle">Générer les équipes</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm">
                            <label for="nbEquipes">Nombre d'équipes</label>
                            <input type="number" class="form-control" id="nbEquipes" min="1" required>
                            <div class="invalid-feedback">
                                Veuillez préciser le nombre d'équipes souhaitées.
                            </div>
                        </div>
                        <div class="col-sm">
                            <label for="tailleEquipe">Taille d'une équipe</label>
                            <input type="number" class="form-control" id="tailleEquipe" min="1" required>
                            <div class="invalid-feedback">
                                Veuillez préciser le nombre souhaité de participants par équipe.
                            </div>
                        </div>
                    </div>
                    <div class="alert alert-danger my-2" role="alert" id="errorNombreParts" style="visibility: hidden">
                        La taille d'une équipe doit être inférieure au nombre de participants.
                    </div>
                    <div class="row px-3">
                        <button class="btn btn-primary btn-lg btn-block" type="submit">
                            <div id="spinner" style="display: inline-block; visibility: hidden">
                                <div class="spinner-grow spinner-grow-sm mb-1 " role="status"></div>
                                <div class="spinner-grow spinner-grow-sm mb-1 " role="status"></div>
                                <div class="spinner-grow spinner-grow-sm mb-1 mr-2" role="status"></div>
                            </div>
                            Générer
                            <div style="display: inline-block; visibility: hidden; font-style: italic; font-size: 0.8em;"  id="nbChoix">
                            (Choix parmi  <span id="eq"></span> equipes et <span id="rep"></span> répartitions.)
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </form>

        <div class="card" id="results" style="visibility: hidden">
            <div class="card-body">
                <h4 class="card-title">Résultats</h4>
                <div class="alert alert-info">
                    Indice de répartition (le plus faible est le mieux) : <span id="variance"></span>
                    <h6>Participations</h6>
                    <div id="occurences"></div>
                </div>
                <h5 class="card-subtitle">Equipes :</h5>
            </div>

            <div class="card-body bg-light m-2">

                <div class="row">

                </div>
            </div>
        </div>
    </div>
    <script src='main.js'></script>

</body>

</html>